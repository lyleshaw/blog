<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>技术 on Lyle&#39;s Blog</title>
    <link>https://lyleshaw.com/tech/</link>
    <description>Recent content in 技术 on Lyle&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
    <lastBuildDate>Wed, 12 Aug 2020 18:53:07 +0800</lastBuildDate><atom:link href="https://lyleshaw.com/tech/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>微信机器人踩坑记录</title>
      <link>https://lyleshaw.com/tech/wechat-bot/</link>
      <pubDate>Tue, 20 Oct 2020 14:09:21 +0800</pubDate>
      
      <guid>https://lyleshaw.com/tech/wechat-bot/</guid>
      <description>本文首发于https://lyleshaw.com/tech/wechat-bot/
最近接了个做微信社群运营机器人的单，本来以为很简单框架很多来着，结果没想到断断续续搞了小两个星期，写篇博客记录一下踩坑的记录。
 序 首先我大致了解了一下和微信通讯的方式，主要分以下几种方式：
   方式 优点 缺点     Web微信 方便易用框架多 17年后新注册的微信无法使用Web微信   iPad/Mac协议 几乎全是优点 开发成本高，可用框架收费高   PC微信HOOK 好用，开源框架相对多 无法及时跟进微信版本，需要用固定版本微信，且实测如果微信群聊/人数太多会导致微信崩溃    想法  对于web微信的框架，包括itechat等主流框架（提一句，wechaty的web版也是开源免费的），虽然对于我本人的帐号是可以使用的，但是无奈需求方用不了，只能舍弃； 对于iPad/Mac协议，做的最好的应该是wechaty，但是呢其商用版单账号单月200R，负担不其，最初时并没有考虑，但是其实可以通过为wechaty社区贡献博客/为项目贡献来获得一年免费token（但是不支持多语言版，只能用typescript）； 于是我走向了hook微信的道路&amp;hellip;&amp;hellip;  PC微信之HOOK hook原理 PC微信HOOK是直接用工具（CE）查找微信各个数据在内存中的地址，然后通过DLL对其进行读取、修改进而达到和微信通讯的方式。
hook之一 我最早看到的是这一篇https://zhuanlan.zhihu.com/p/114214846，是一个【目前似乎是高中的？】女孩子做的，写的东西能用&amp;hellip;但是问题在于，开发者并没有太多开发经验，所以很多地方都很不规范、亦或者用一些奇怪的解决方式来搞的【但是你并不能苛求一个刚上高中的学生做的更好了】&amp;hellip;
比如说这个东西的原理在于通过hook的方式拿到微信的数据，然后把读取的数据写到sqlite数据库里，然后python文件直接读取sqlite数据库里的聊天信息&amp;hellip;
操作很迷惑，但是确实能用，只是hook和写入sqlite的过程被封装进了一个exe文件，你无法定制自己需要的数据，只能被动接收数据库中有的东西。
而数据库中存储了微信id、聊天内容、时间、群聊id等，并没有我需要的数据，最终只能放弃。
 Github地址：https://github.com/infopensource/WechatBot
 hook之二 我第二个看到的是https://zhuanlan.zhihu.com/p/118674498，看上去很nb的样子，但是我搞了很多次不知道它的token从哪里来的，甚至有人私信问也没有回，于是放弃。
如果有人搞懂了这玩意怎么用可以联系我更新。
 Github地址：https://github.com/veikai/PyWeChatSpy
 hook之三 这是我使用的最后一个hook，也是最好的一个&amp;hellip;支持两个版本的微信注入（2.8和2.9），并且同时提供了websocket协议和http协议的数据传输。
最早的时候因为客户端里python版本只提供了websocket协议版本的，我也没有仔细看文档，所以我以为它只有websocket协议的&amp;hellip;为此甚至还提前学了学ws协议（正常来讲应该是下一节计网课的内容，好吧，确实不难），然鹅走ws协议我有一些数据一直拿不到（报错或者返回null），我也不知道为什么，应该是这个框架本身的bug。
本来我都快放弃了&amp;hellip;然鹅最后看了看文档里有一句话
 请参见client.js（websocket客户端）和httpclient.js（http客户端）示例代码
 嗯？httpclient.js？？？http？？？好吧，于是我才最终意识到它还有http协议版本&amp;hellip;
于是开始重构代码，小号测试成功，准备部署到服务器，部署完成。
然后&amp;hellip;交付&amp;hellip;结果问题来了，交付时使用的他们的微信号上有几百个微信群，每个微信群有几百个成员，我猜测可能是因为同一时期对微信内存的修改次数过多，总之，这个帐号一运行微信就崩溃了，然后重启，再尝试，继续崩溃&amp;hellip;
于是看了看代码，改了一点点，仍然无效，最终只能放弃了&amp;hellip;
但是，倘若你使用的微信号并没有那个量级的请求量，我仍然觉得这是目前PC微信HOOK的最好的框架。【嗯，甚至在我写这篇博客时刚刚更新了一个fix bug的新版本，目前还没尝试】
 Github地址：https://github.com/cixingguangming55555/wechat-bot</description>
    </item>
    
    <item>
      <title>PyTorch使用指南——pytorch安装</title>
      <link>https://lyleshaw.com/tech/install-pytorch/</link>
      <pubDate>Thu, 24 Sep 2020 18:42:36 +0800</pubDate>
      
      <guid>https://lyleshaw.com/tech/install-pytorch/</guid>
      <description>本文首发于https://lyleshaw.com/tech/wechat-bot/
最近好几个朋友在问pytorch安装的问题，总结了一下，大家好像都是【超时】和【路径】问题，因此在整个系列前些个0篇，介绍pytorch安装中的各种坑
 Q0 一些小问题 有朋友首先问了我这个问题&amp;hellip;这个需要明确一个前提，即pytorch在pip中实际上并不叫pytorch，直接pip install pytorch是会报错的，应该使用官网安装命令完成安装。
Q1 超时——如何使用pip/conda镜像 其次常见的问题应该是time out，即超时错误。这是由于Torch仓库在海外，访问外网的速度会有所限制，而连接超过设定时间后即会自动终止安装，这时候就需要通过国内镜像来完成安装。
以下提供部分常用镜像地址
清华：https://pypi.tuna.tsinghua.edu.cn/simple 阿里云：http://mirrors.aliyun.com/pypi/simple/ 中国科技大学 https://pypi.mirrors.ustc.edu.cn/simple/ 豆瓣：http://pypi.douban.com/simple/ 通过我们会使用清华源或阿里源
如果您不经常使用python，仅仅为了任务而使用pytorch，那么我建议您在该次安装中使用暂时的镜像，命令为
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple {Your Pack&#39;s Name} 对于Torch安装而言，则为
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple torch==1.6.0+cpu torchvision==0.7.0+cpu -f https://download.pytorch.org/whl/torch_stable.html 倘若您会经常使用python，那么我建议您直接将pip安装来源永久修改为清华源，方法如下：
首先找到如下路径，{Your User Name}为您的用户名：
C:\User\{Your User Name}\pip\pip.ini 其次修改pip.ini的内容为如下内容：
[global] index-url = https://pypi.tuna.tsinghua.edu.cn/simple [install] trusted-host=mirrors.aliyun.com 一般而言，通过如上方法即可成功。
Q2 安装失败？试试CPU版 如果上述安装过程出现如下错误
那么应该是您默认安装了CUDA版本，即GPU版本
这种情况下建议您安装CPU版本，即把下图中CUDA版本选择为“None”后的命令进行安装
Q3 安装成功却无法import？路径错误 如果您出现内容，您可以直接在CMD中输入python后打出import torch内容后没有报错，那么恭喜您，pytorch已经成功安装到了您的电脑。
但是不要着急，这并不意味着您可以将pytorch在生产环境中使用。
如图：这可能是由于您安装了多个python环境（包括但不限于原生python，anaconda等），就可能会产生将Torch安装到自己也不知道哪个环境的情况，结果即如上图。
此时有三个解决方案：
1. 卸载所有环境，只保留一个环境（建议anaconda）【简单】 2. 在所有环境中全部安装一遍Torch【中等】 3. 手动调整系统环境变量中的路径，将Torch安装到自己需要的环境中【较难】  以上即是安装pytorch中的常见问题，如果有其他问题可以向我发邮件，我会在看到后回复~</description>
    </item>
    
    <item>
      <title>PyTorch使用指南——数据引入</title>
      <link>https://lyleshaw.com/tech/import-data/</link>
      <pubDate>Mon, 17 Aug 2020 22:36:36 +0800</pubDate>
      
      <guid>https://lyleshaw.com/tech/import-data/</guid>
      <description>本文首发于https://lyleshaw.com/tech/wechat-bot/
 导入包 首先来一段正常的导入包代码，我将每个包的功能注释到代码后
import torch # 引入Torch，没啥可说的 import torch.nn as nn # 引入神经网络模块，模型的定义需要用到nn.Model模块 import torch.nn.functional as F # 函数模块，包括机器学习里常用的一些计算函数 import pandas as pd #pandas，用来导入导出数据文件并做一定程度上的清洗 import numpy as np # numpy，python最好的科学计算库，常用在矩阵计算等 from torch.utils.data import * # 这个模块是数据相关的一些操作 from torch.autograd import Variable # variable函数是将tensor转化为可微分的variable类型 import torchvision # 这里面是一些计算机视觉常用的包和函数，一些 import matplotlib.pyplot as plt # plt画图用 import torch.optim as optim # 优化模块，有很多优化器，Adam、SGD等 from torch.utils.data import Dataset # 数据集操作 from torchvision import transforms, datasets, models # transforms是对数据进行totensor，归一化等等操作的包  可以根据不同任务的实际情况选择调用哪些包</description>
    </item>
    
    <item>
      <title>PyTorch使用指南</title>
      <link>https://lyleshaw.com/tech/pytorch-guide/</link>
      <pubDate>Mon, 17 Aug 2020 22:16:47 +0800</pubDate>
      
      <guid>https://lyleshaw.com/tech/pytorch-guide/</guid>
      <description>本文首发于https://lyleshaw.com/tech/wechat-bot/
 为什么我要写这些？ 这将是一个系列的长文，我希望通过撰写这些文章使得一个对深度学习原理有一定理解的人快速上手pytorch。
在深度学习建模方面的框架主要为tensorflow和pytorch，前者虽然在前些年占据优势，但是更适合工业级的部署任务，其计算图和仿佛在python里重构了一门新语言的设计非常劝退新手。相比之下，pytorch就更适合入门了。
尽管pytorch相较于tensorflow较为容易，但是因其功能的复杂性，还是很容易让新手踩坑。（是的，说的是我本人，debug de到自闭，甚至跑起来时候都不敢相信）。
这个系列会有哪些模块？ 我会分以下模块分别写文章来解释及列出常见错误原因：
 Torch安装 数据引入 数据清洗 模型设计 模型运行 模型保存&amp;amp;调用 模型优化  参考 [1.] 常用代码片段. Lyle. https://github.com/lyleshaw/Frequently-used-Python-code.
[2.] PyTorch 模型训练实用教程. 余霆嵩.</description>
    </item>
    
    <item>
      <title>2020.08.14-LeetCode刷题总结</title>
      <link>https://lyleshaw.com/tech/0814-lc/</link>
      <pubDate>Fri, 14 Aug 2020 21:10:29 +0800</pubDate>
      
      <guid>https://lyleshaw.com/tech/0814-lc/</guid>
      <description>第一篇刷题总结，内容可能不够完善。
 题目 LeetCode 72题：编辑距离
给你两个单词 word1 和 word2，请你计算出将 word1 转换成 word2 所使用的最少操作数 。 你可以对一个单词进行如下三种操作： 插入一个字符 删除一个字符 替换一个字符 示例 1： 输入：word1 = &amp;quot;horse&amp;quot;, word2 = &amp;quot;ros&amp;quot; 输出：3 解释： horse -&amp;gt; rorse (将 &#39;h&#39; 替换为 &#39;r&#39;) rorse -&amp;gt; rose (删除 &#39;r&#39;) rose -&amp;gt; ros (删除 &#39;e&#39;) 示例 2： 输入：word1 = &amp;quot;intention&amp;quot;, word2 = &amp;quot;execution&amp;quot; 输出：5 解释： intention -&amp;gt; inention (删除 &#39;t&#39;) inention -&amp;gt; enention (将 &#39;i&#39; 替换为 &#39;e&#39;) enention -&amp;gt; exention (将 &#39;n&#39; 替换为 &#39;x&#39;) exention -&amp;gt; exection (将 &#39;n&#39; 替换为 &#39;c&#39;) exection -&amp;gt; execution (插入 &#39;u&#39;) 思路 这并不是一道非常难的动态规划题。</description>
    </item>
    
  </channel>
</rss>
